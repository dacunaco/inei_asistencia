var app=angular.module("adminApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngProgress","ng-breadcrumbs","ui.bootstrap","timer"]);app.config(["$routeProvider",function(a){a.when("/home",{templateUrl:"views/index.html",controller:"",title:"Principal",label:"Principal"}).otherwise({redirectTo:"/home"})}]),app.run(["$rootScope","ngProgress","$location","breadcrumbs","$timeout","$templateCache","auxiliar","$window","$http",function(a,b,c,d,e,f,g,h,i){a.breadcrumbs=d,a.$on("$routeChangeStart",function(a,c,d){"undefined"!=typeof d&&f.remove(d.templateUrl),b.start()}),a.$on("$routeChangeSuccess",function(c,d,e){b.complete(),d.hasOwnProperty("$$route")&&(a.title=d.$$route.title)})}]),app.directive("numbersOnly",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){if(void 0==a)return"";var b=a.replace(/[^0-9.]/g,"");return b!=a&&(d.$setViewValue(b),d.$render()),b})}}}),app.directive("ngEnter",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.ngEnter)}),b.preventDefault())})}}),app.factory("auxiliar",["$modal",function(a){var b={objRemitente:{dni:"",nombres:""},objConsignatario:{dni:"",nombres:""},message:function(b,c,d){a.open({templateUrl:"views/partials/message.html",controller:"messageController",resolve:{message:function(){return b},callback:function(){return c},button:function(){return d}}})},modalTemplate:function(b,c,d,e){a.open({templateUrl:c,controller:d,size:e,resolve:{title:function(){return b}}})}};return b}]),app.filter("num",function(){return function(a){return parseInt(a,10)}});var login=angular.module("loginApp",["ngAnimate","ngMaterial"]).controller("loginController",["$http","$scope","authFactory","$window","$timeout","$location","$mdSidenav","$mdDialog",function(a,b,c,d,e,f,g,h){b.toggleSidenav=function(a){g(a).toggle()},b.mostrarAlerta=function(a){alert=h.alert().title("Mensaje del Sistema").content(a).ok("Cerrar"),h.show(alert)["finally"](function(){alert=void 0})},b.login=function(a){b.mostrarAlerta("Validando datos..."),e(function(){c.login(a).then(function(a){console.log(a),1==a.data.rep?(b.mostrarAlerta("Datos correctos. Redireccionando..."),e(function(){d.location.reload()},1e3)):0==a.data.rep&&e(function(){b.mostrarAlerta(a.data.msg)},10)})},1e3)}}]).factory("authFactory",["$http","$q",function(a,b){return{login:function(c){var d;return d=b.defer(),a({method:"POST",url:"usuario/iniciar_sesion",data:"username="+c.username+"&password="+c.password,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(a){d.resolve(a)}).then(function(a){d.reject(a)}),d.promise}}}]);